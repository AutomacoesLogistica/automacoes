Primeiro passo

- Identificar todos os componentes  como som e microfone atraves dos comandos
Pesquisar os dispositivos de audio
 aplay -l




Pesquisar os dispositivos de microfone
arecord -l              e de enter
ira aparecer os dispositivos
OBS: Verificar qual é o card e qual o device


2 - Configurando arquivo de audio
home/pi/.asoundrc      se nao tiver esse arquivo criar com o comando
sudo nano .asoundrc        dentro da pasta /home/pi

em seguida colar essas linhas

pcm.!default {
  type asym
  capture.pcm "mic"
  playback.pcm "speaker"
}
pcm.mic {
  type plug
  slave {
    pcm "hw:1,0"  # Card 1 device 0 ( microfone USB )
  }
}
pcm.speaker {
  type plug
  slave {
    pcm "hw:0,0" # Card 0 device 0  Placa de audio do jack de som raspberry
  }
}






3 - testar audio e microfone

Testar o som basta digitar o comando
speaker-test -t wav       e dar enter, deverar sair uma voz falando algo pront left pront lef e para sair Control+C


Testar microfone
Digite o codigo e pressione enter
arecord --format=S16_LE --duration=5 --rate=16000 --file-type=raw out.raw
OBS: ira gravar 5 segundos de audio

Para ver se funcionou reproduzir o audio gravado
aplay --format=S16_LE --rate=16000 out.raw      e pressione enter
OBS: Se tudo ocorrer bem devera reproduzir o audio gravado


4 - Instalar o Google Assistant SDK

sudo apt-get update
sudo apt-get install python3-dev python3-venv # Use python3.4-venv if the package cannot be found.
python3 -m venv env
env/bin/python -m pip install --upgrade pip setuptools
source env/bin/activate
python -m pip install --upgrade google-assistant-library
python -m pip install --upgrade google-auth-oauthlib[tool]


google-oauthlib-tool --client-secrets /path/to/client_secret_366468354706-ekqd0m2t83oj3vl7rufclsb52apdivtv.apps.googleusercontent.com.json --scope https://www.googleapis.com/auth/assistant-sdk-prototype --save --headless

OBS: Deve entrar no site e criar a credencial

Para iniciar deve digitar

google-assistant-demo         e pressionar enter











